{% extends "Admin/base.html" %}
{% block page %}Permissions{% endblock %}
{% block jsfile %}permissions{% endblock %}
{% block body %}
<div class="kt-subheader   kt-grid__item" id="kt_subheader">
   <div class="kt-container kt-container--fluid pr-0">
      <div class="kt-subheader__main">
         <span class="kt-subheader__separator kt-hidden"></span>
      </div>
      <div class="kt-subheader__toolbar">
         <div class="kt-subheader__wrapper">
               <a id="goBackWizard" class="btn light btn-icon-sm" style="display: none">
               <i class="la la-long-arrow-left"></i>
               Retour
               </a>
            <div class="dropdown dropdown-inline" data-toggle="kt-tooltip" title="" data-placement="left" data-original-title="Actions rapides">
               <a href="#" class="btn light plain" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  Actions
               </a>
               <div class="dropdown-menu dropdown-menu-fit dropdown-menu-md dropdown-menu-right" x-placement="bottom-end" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(35px, 35px, 0px);">
                  <!--begin::Nav-->
                  <ul class="kt-nav">
                     <li class="kt-nav__head">
                        Choisir une action:
                        <i class="flaticon2-information" data-toggle="kt-tooltip" data-placement="right" title="" data-original-title="Cliquez pour en savoir plus..."></i>
                     </li>
                     <li class="kt-nav__separator"></li>
                     <li class="kt-nav__item">
                        <a href="#" class="kt-nav__link permissionManagement">
                        <i class="kt-nav__link-icon flaticon2-drop"></i>
                        <span class="kt-nav__link-text">Gestion des permissions</span>
                        </a>
                     </li>
                     <li class="kt-nav__item">
                        <a href="#" class="kt-nav__link rankManagement">
                        <i class="kt-nav__link-icon flaticon2-drop"></i>
                        <span class="kt-nav__link-text">Gestion des sous-ranks</span>
                        </a>
                     </li>
                  </ul>
                  <!--end::Nav-->
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
  <div class="row" id="rankManagement" style="display: none">
<div class="kt-portlet kt-portlet--height-fluid kt-portlet--mobile ">
          <div class="kt-portlet__head kt-portlet__head--lg">
              <div class="kt-portlet__head-label">
                  <span class="kt-portlet__head-icon">
            <i class="kt-font-brand flaticon2-user"></i>
            </span>
                  <h3 class="kt-portlet__head-title">
               Teams
            </h3>
              </div>
              <div class="kt-portlet__head-toolbar">
                  <div class="kt-portlet__head-wrapper">
                      <div class="col-md-4 kt-tablet-and-mobile">
                          <div class="kt-form__group kt-form__group--inline">
                              <div class="kt-form__label">
                                  <button class="btn light" type="button" data-toggle="modal" data-target="#editCategoryModal">Ajouter</button>
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
          <div class="kt-portlet__body kt-portlet__body--fit">
              <!--begin: Datatable -->
              <div id="kt_datatable_teams"></div>
              <!--end: Datatable -->
          </div>
      </div>
  </div>
<div class="row" id="editPermissions" style="display: none">
   <div class="col-xl-12 col-lg-12 order-lg-1 order-xl-1">
      <div class="kt-portlet kt-portlet--tabs kt-portlet--height-fluid">
         <div class="kt-portlet__head">
            <div class="kt-portlet__head-label">
               <h3 class="kt-portlet__head-title">
                  Recherche de rank
               </h3>
            </div>
         </div>
         <div class="kt-portlet__body">
            <div class="input-group">
               <select name="element" class="form-control targetRole"></select>
               <input type="submit" value="Go" class="btn light ml-4 h-100 roleSearch">
            </div>
         </div>
      </div>
   </div>
   <div class="col-xl-12 col-lg-12 order-lg-1 order-xl-1" id="roleSearch" style="display:none">
      <div class="kt-portlet kt-portlet--tabs kt-portlet--height-fluid">
            <div class="kt-portlet__head">
               <div class="kt-portlet__head-label">
                  <h3 class="kt-portlet__head-title">
                     Changer les permissions
                  </h3>
               </div>
            </div>
            <div class="kt-portlet__body">
               <div class="input-group">
                  <select name="element" class="form-control targetPermission"></select>
                  <input type="submit" value="Go" class="btn light ml-4 h-100 permissionSearch">
               </div>
            </div>
      </div>
   </div>
</div>
<div class="row">
   <div class="col-xl-12" id="permissionsTable" style="display:none">
      <div class="kt-portlet kt-portlet--height-fluid kt-portlet--mobile ">
         <div class="kt-portlet__head kt-portlet__head--lg">
            <div class="kt-portlet__head-label">
               <span class="kt-portlet__head-icon">
               <i class="kt-font-brand flaticon2-user"></i>
               </span>
               <h3 class="kt-portlet__head-title">
                  Permissions
               </h3>
            </div>
            <div class="kt-portlet__head-toolbar">
               <div class="kt-portlet__head-wrapper">
                  <div class="col-md-7 kt-margin-b-20-tablet-and-mobile">
                     <div class="kt-input-icon kt-input-icon--left">
                        <input type="text" class="form-control" placeholder="Recherche..." id="generalSearch">
                        <span class="kt-input-icon__icon kt-input-icon__icon--left">
                        <span><i class="la la-search"></i></span>
                        </span>
                     </div>
                  </div>
                  &nbsp;
                  <div class="col-md-5 kt-tablet-and-mobile">
                     <div class="kt-form__group kt-form__group--inline">
                        <div class="kt-form__label">
                           <button class="btn btn-secondary" type="button" id="kt_datatable_permission_reload">Recharger</button>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
         <div class="kt-portlet__body kt-portlet__body--fit">
            <!--begin: Datatable -->
            <div id="kt_datatable_permissions"></div>
            <!--end: Datatable -->
         </div>
      </div>
   </div>
</div>
<div class="row" id="rankWizard">
   <div class="col-xl-12 col-lg-12 order-lg-1 order-xl-1">
      <div class="kt-wizard-v4" id="kt_wizard_v4" data-ktwizard-state="first">
         <!--begin: Form Wizard Nav -->
         <div class="kt-wizard-v4__nav">
            <div class="kt-wizard-v4__nav-items">
               <a class="kt-wizard-v4__nav-item" href="#" data-ktwizard-type="step" data-ktwizard-state="current">
                  <div class="kt-wizard-v4__nav-body">
                     <div class="kt-wizard-v4__nav-number">
                        1
                     </div>
                     <div class="kt-wizard-v4__nav-label">
                        <div class="kt-wizard-v4__nav-label-title">
                           Choisir un nom
                        </div>
                        <div class="kt-wizard-v4__nav-label-desc">
                           Créer un rank
                        </div>
                     </div>
                  </div>
               </a>
               <a class="kt-wizard-v4__nav-item" href="#" data-ktwizard-type="step" data-ktwizard-state="pending">
                  <div class="kt-wizard-v4__nav-body">
                     <div class="kt-wizard-v4__nav-number">
                        2
                     </div>
                     <div class="kt-wizard-v4__nav-label">
                        <div class="kt-wizard-v4__nav-label-title">
                           Accès serveur
                        </div>
                        <div class="kt-wizard-v4__nav-label-desc">
                           Dans l'hôtel
                        </div>
                     </div>
                  </div>
               </a>
               <a class="kt-wizard-v4__nav-item" href="#" data-ktwizard-type="step" data-ktwizard-state="pending">
                  <div class="kt-wizard-v4__nav-body">
                     <div class="kt-wizard-v4__nav-number">
                        3
                     </div>
                     <div class="kt-wizard-v4__nav-label">
                        <div class="kt-wizard-v4__nav-label-title">
                           Permissions site
                        </div>
                        <div class="kt-wizard-v4__nav-label-desc">
                           Dans l'admin
                        </div>
                     </div>
                  </div>
               </a>
               <a class="kt-wizard-v4__nav-item" href="#" data-ktwizard-type="step" data-ktwizard-state="pending">
                  <div class="kt-wizard-v4__nav-body">
                     <div class="kt-wizard-v4__nav-number">
                        4
                     </div>
                     <div class="kt-wizard-v4__nav-label">
                        <div class="kt-wizard-v4__nav-label-title">
                           Fini
                        </div>
                        <div class="kt-wizard-v4__nav-label-desc">
                           Aperçu
                        </div>
                     </div>
                  </div>
               </a>
            </div>
         </div>
         <!--end: Form Wizard Nav -->
         <div class="kt-portlet">
            <div class="kt-portlet__body kt-portlet__body--fit">
               <div class="kt-grid">
                  <div class="kt-grid__item kt-grid__item--fluid kt-wizard-v4__wrapper">
                     <!--begin: Form Wizard Form-->
                     <form class="kt-form" id="kt_form" novalidate="novalidate">
                        <!--begin: Form Wizard Step 1-->
                        <div class="kt-wizard-v4__content" data-ktwizard-type="step-content" data-ktwizard-state="current">
                           <div class="kt-heading kt-heading--md">Créer un rank</div>
                           <div class="kt-form__section kt-form__section--first">
                              <div class="kt-wizard-v4__form">
                                 <div class="form-group">
                                    <input type="text" class="form-control" name="rank_name" placeholder="Nom du rank" aria-describedby="fname-error">
                                    <span class="form-text text-muted mt-3">Le nom que vous entrez est également affiché sur la page équipe sur le site Web</span>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!--end: Form Wizard Step 1-->
                        <!--begin: Form Wizard Step 2-->
                        <div class="kt-wizard-v4__content" data-ktwizard-type="step-content">
                           <div class="kt-heading kt-heading--md">Configurez vos permissions de serveur</div>
                           <div class="kt-form__section kt-form__section--first">
                              {% set columns = 2 %}
                              {% for permission in permission_columns[8:] %}
                                  {% if loop.first or loop.index0 is divisible by(columns) %}
                                      <div class="form-group row">
                                  {% endif %}
                                   <label class="col-3 col-form-label">
                                   {{permission.Field}}
                                   </label>
                                   <div class="col-3">
                                      <span class="kt-switch kt-switch--icon">
                                      <label>
                                      <input type="checkbox" name="{{permission.Field}}">
                                      <span></span>
                                      </label>
                                      </span>
                                   </div>
                                  {% if loop.last or loop.index is divisible by(columns) %}
                                  </div>
                                  {% endif %}
                              {% endfor %}
                           </div>
                        </div>
                        <!--end: Form Wizard Step 2-->
                        <!--begin: Form Wizard Step 3-->
                        <div class="kt-wizard-v4__content permissionTable" data-ktwizard-type="step-content">
                           <div class="row" style="margin-bottom: 10px">
                              <div class="col-lg-10 mb-4">
                                 <button class="btn light" type="button" id="kt_datatable_reload">Recharger</button>
                                 <button class="btn light" type="button" id="kt_datatable_check_all">Sélectionner tout</button>
                                 <button class="btn light" type="button" id="kt_datatable_uncheck_all">Désélectionner tout</button>
                              </div>
                           </div>
                           <div class="kt-portlet__body kt-portlet__body--fit">
                              <div id="kt_datatable_namechange"></div>
                           </div>
                        </div>
                        <!--end: Form Wizard Step 3-->
                        <!--begin: Form Wizard Step 4-->
                        <div class="kt-wizard-v4__content" data-ktwizard-type="step-content">
                           <div class="kt-form__section kt-form__section--first">
                              <div class="kt-section__content kt-section__content--solid" style="margin-bottom: 20px">
                                 <p>
                                 <h3 id="rankName"></h3>
                                 Vous trouverez ci-dessous une liste avec les exigences spécifiées. Lorsque vous avez lu ceci, appuyez sur "créer" pour créer le rank.
                                 Lorsque le rank est créé, vous serez redirigé vers une page où vous pourrez modifier les commandes du serveur.
                              </div>
                              <div class="accordion accordion-solid accordion-toggle-plus" id="serverPerm">
                                 <div class="card">
                                    <div class="card-header" id="headingOne6">
                                       <div class="card-title collapsed" data-toggle="collapse" data-target="#collapseOne6" aria-expanded="false" aria-controls="collapseOne6">
                                          <i class="flaticon-interface-7"></i> Permissions du serveur
                                       </div>
                                    </div>
                                    <div id="collapseOne6" class="collapse" aria-labelledby="headingOne6" data-parent="#serverPerm" style="">
                                       <div class="card-body">
                                          <table class="table table-sm">
                                             <thead class="thead-inverse">
                                                <tr>
                                                   <th>#</th>
                                                   <th>Permission</th>
                                                   <th>Type</th>
                                                </tr>
                                             </thead>
                                             <tbody id="serverPermissions"></tbody>
                                          </table>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                              <div class="accordion accordion-solid accordion-toggle-plus" id="webPerm">
                                 <div class="card">
                                    <div class="card-header" id="headingOne5">
                                       <div class="card-title collapsed" data-toggle="collapse" data-target="#collapseOne1" aria-expanded="false" aria-controls="collapseOne1">
                                          <i class="flaticon-interface-7"></i> Permissions du site
                                       </div>
                                    </div>
                                    <div id="collapseOne1" class="collapse" aria-labelledby="headingOne5" data-parent="#webPerm" style="">
                                       <div class="card-body">
                                          <table class="table table-sm">
                                             <thead class="thead-inverse">
                                                <tr>
                                                   <th>#</th>
                                                   <th>Permission</th>
                                                </tr>
                                             </thead>
                                             <tbody id="websitePermissions"></tbody>
                                          </table>
                                       </div>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </div>
                        <!--end: Form Wizard Step 4-->
                        <!--begin: Form Actions -->
                        <div class="kt-form__actions">
                           <div class="btn light btn-secondary btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" data-ktwizard-type="action-prev">
                              Précédent
                           </div>
                           <div class="btn green btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" data-ktwizard-type="action-submit">
                              Créer
                           </div>
                           <div class="btn light plain btn-brand btn-md btn-tall btn-wide kt-font-bold kt-font-transform-u" data-ktwizard-type="action-next">
                              Étape suivante
                           </div>
                        </div>
                        <!--end: Form Actions -->
                     </form>
                     <!--end: Form Wizard Form-->
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
  <div class="modal fade" id="editCategoryModal" tabindex="-1" role="dialog" aria-labelledby="editCategoryModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editCategoryModalLabel">Ajouter à la Team</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>

            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label for="categoryName" class="form-control-label">Nom de Team:</label>
                        <input type="text" class="form-control" id="rank_name">
                    </div>
                   <div class="form-group">
                        <label for="categoryName" class="form-control-label">Description:</label>
                        <input type="text" class="form-control" id="rank_description">
                    </div>
                </form>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn light" data-dismiss="modal">Fermer</button>
                <button type="button" class="btn green saveTeam">Sauvegarder</button>
            </div>
        </div>
    </div>
</div>
<link href="/assets/admin/css/wizard-4.css" rel="stylesheet" type="text/css" />
{% endblock %}
